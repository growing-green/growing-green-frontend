실제 시간에 기반하여 가상의 식물을 키울 수 있는 식물 키우기 시뮬레이션 게임, Growing Green입니다.

# MOTIVATION

### why plant?

예전부터 식물과 꽃을 좋아해 여러 번 직접 키우기를 시도했습니다. 하지만 꾸준히 식물의 상태를 확인하고, 물을 주고, 햇볕을 쬐어주기란 쉽지 않았습니다.

그래서 이를 미리 연습해볼 수 있는 사이트를 구상하게 되었습니다.

최대한 현재 환경과 비슷한 환경과 식물의 모습을 제공해 실제로 식물을 키우는듯한 느낌을 주는 사이트를 만들고자 하였습니다.

### 기술적 동기

저는 제가 작성한 코드를 통해 시각적으로 재미를 주는 효과를 구현하거나 태그들을 배치해 화면을 보기좋게 구성하는 작업에 큰 흥미를 느낍니다.

이번 프로젝트에서는 제가 그동안 해보고싶던 시각적인 효과들을 최대한 많이 구현해보고싶었고 css만으로는 부족할 것 같아 캔버스를 사용해 더욱 자유롭고 다양한 효과들을 구현해보았습니다.

# Deploy

**frontend는 Netlify를 이용해 배포하였고 backend는 AWS ElastickBeanstock을 이용하였습니다.**

[Growing Green 배포 링크](http://growing-green.online)

# 프로젝트 일정

**프로젝트는 2021년 9월 27일부터 2021년 10월 15일까지 총 3주간 진행되었습니다.**

**🔎 기획**

---

- **1주차**
  - 아이디어 구상, 기술 스택 검토
  - [Figma를 이용한 Mockup작업](https://www.notion.so/Mockup-0c60cf0d06c1469ab2d49e6d154d73fb)
  - [칸반 작성](https://www.notion.so/fe898423ea8b4a56abb22443ebab7ec3)

💻 **개발**

---

- **2주차**
  - 로그인 작업
  - 이미지 편집 작업
  - **PIXI**를 이용한 식물 애니메이션 효과 구현
- **3주차**
  - 식물 추가/삭제 작업
  - 웹크롤링을 이용한 식물 검색(**Puppeteer**)
  - 테스트 작성 및 배포

# 기술 스택

(MERN stack)

- **Frontend**

  - firebase auth
  - React
  - Redux
  - PIXI
  - date-fns
  - puppeteer
  - styled-component
  - Jest, React Testing library, cypress

- **Backend**
  - Express
  - MongoDB, Mongoose
  - mocha, chai, supertest

### PIXI를 선택한 이유

캔버스 api를 사용하기로 마음을 먹고 여러가지 캔버스 라이브러리를 비교해보았습니다.

우선 canvas api만 사용하는 것은 짧은 시간 안에 많은 양의 코드를 작성해야 했기 때문에 라이브러리의 도움을 받기로 선택했다.

~~1. phaser~~
게임에 최적화된 프레임워크이기 때문에 애니메이션 효과를 주는 데 있어서 추상화된 메서드를 이용할 수 있습니다.그러나 제가 구현하려는 게임은 캐릭터가 움직이고, 충돌이 발생하여 물리엔진을 사용하는 역동적인 게임이 아닌 WebGL을 이용해 sprite를 화면에 렌더링하여 자연스러운 움직임을 구현하는 것이 목적인 정적인 게임이기 때문에 그러한 기능까지는 불필요하다고 판단하였습니다.
그리고 검색 결과, phaser는 pixi에 비해 다운로드 수가 현저히 적은 편이었고 pixi만큼 업데이트가 활발히 이루어지고있지 않았습니다.

**2. pixi**
webGL을 사용하는 렌더링 라이브러리입니다. 비슷한 라이브러리들 중 가장 사용자수가 많고 지속적으로 업데이트가 되고있습니다.

~~3. react-pixi 또는 react-fiber-pixi~~
이 라이브러리들은 리액트에서 pixi를 간편하게 쓸 수 있게 도와주는 라이브러리입니다. pixi는 리액트 라이브러리가 아닌 js 라이브러리이기 때문에 리액트에서 구현하려면 리액트의 컴포넌트 생명주기에 맞춰서 로직을 적절히 변형해주어야합니다. react-pixi나 react-fiber-pixi를 사용하면 이러한 작업을 도와주어 마치 리액트 컴포넌트를 작성하듯이 sprite를 생성할 수 있게 해줍니다. 그러나 이번에 처음으로 canvas를 접하는 저로서는 추상화된 메서드를 가져다 쓰는 것보다는 직접 구현해보는 것이 좋은 경험이 될 것 같다고 생각하였습니다.

# ISSUE

**개발 과정중에 직면했던 문제들과 해결방안, 그리고 그 과정에서 배운점들입니다.**

- PIXI 관련
  - state를 이용해 상태를 변화시키지 못함
  - 가독성과 관심사의 분리를 위한 로직 분리
  - 0으로 시작하면 게이지가 차오르지 않음, 블라인드가 내려와있는걸로 시작하면 첫 클릭시 제대로 동작하지 않음
- react 에러 핸들링
- express 에러 핸들링
- 이미지 로딩 최적화
  - 캔버스에 쓰이는 이미지
  - CRA에 쓰이는 이미지
- Button 컴포넌트 재사용 부트스트랩에서처럼 버튼의 테마와 색상을 지정해 재사용성 높은 컴포넌트를 작성하고자 하였습니다.
- redux thunk vs. redux saga
- 배포 이후 puppeteer를 사용한 요청이 제대로 수행되지 않음
- **'어떻게 하면 사용자가 더 오래 머무르고싶은 사이트를 만들 수 있을까'** 에 관한 고민
